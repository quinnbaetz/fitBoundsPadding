!function(){var t=google.maps.Map.prototype.fitBounds;google.maps.Map.prototype.fitBounds=function(o,n){if(n){var e=function(t){var o,n;return n=Math.sin(t*Math.PI/180),o=Math.log((1+n)/(1-n))/2,Math.max(Math.min(o,Math.PI),-Math.PI)/2},a=function(t,o,n){return Math.floor(Math.log(t/o/n)/Math.LN2)},g=function(){var t=Math.pow(2,l.getZoom()),o=new google.maps.LatLng(l.getBounds().getNorthEast().lat(),l.getBounds().getSouthWest().lng()),n=new google.maps.LatLng(l.getBounds().getSouthWest().lat(),l.getBounds().getNorthEast().lng()),e=l.getProjection().fromLatLngToPoint(o),a=l.getProjection().fromLatLngToPoint(n);return{width:Math.floor((a.x-e.x)*t),height:Math.floor((a.y-e.y)*t)}},i=function(){var t,n,i,r,h,s,u,l,c,f;return t={height:256,width:256},mapDim=g(),n=21,l=o.getNorthEast(),c=o.getSouthWest(),i=(e(l.lat())-e(c.lat()))/Math.PI,h=l.lng()-c.lng(),s=(0>h?h+360:h)/360,r=a(mapDim.height,t.height,i),u=a(mapDim.width,t.width,s),f=Math.min(r,u,n),Math.pow(2,f)},r=function(t){var o=l.getProjection(),n=o.fromLatLngToPoint(t);return{x:n.x*c,y:n.y*c}},h=function(t){var o=l.getProjection(),n=new google.maps.Point(t.x/c,t.y/c);return o.fromPointToLatLng(n)},s=function(t,o){if(l.getProjection()){var n={sw:r(t.getSouthWest()),ne:r(t.getNorthEast())};o(n)}else google.maps.event.addListener(l,"projection_changed",function(){s(t,o)})},u=function(o,n){s(o,function(o){for(var e in n)switch(e){case"left":o.sw.x-=n.left;break;case"top":o.ne.y-=n.top;break;case"right":o.ne.x+=n.right;break;case"bottom":o.sw.y+=n.bottom}var a=new google.maps.LatLngBounds(h(o.sw),h(o.ne));t.call(l,a)})},l=this,c=i();u(o,n)}else t.call(this,o)}}();